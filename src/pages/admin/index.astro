---
import jwt from 'jsonwebtoken';

// Redirect to dashboard for simplicity
return Astro.redirect('/admin/dashboard');

// The code below is not executed due to the redirect above,
// but if needed in the future, here's the authentication logic:

// Authentication check
// const JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key-change-this-in-production';
// const token = Astro.cookies.get('auth_token')?.value;
// let isAuthenticated = false;
// let user = null;

// if (token) {
//   try {
//     user = jwt.verify(token, JWT_SECRET);
//     isAuthenticated = true;
//     console.log('User authenticated:', user.username);
//   } catch (error) {
//     console.error('JWT verification failed:', error.message);
//   }
// }

// // If not authenticated, redirect to login
// if (!isAuthenticated) {
//   return Astro.redirect('/admin/login');
// }
---
