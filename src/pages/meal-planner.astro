---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Breadcrumbs from '../components/Breadcrumbs.astro';
import MealPlanner from '../components/MealPlanner.astro';
import RecipeCollections from '../components/RecipeCollections.astro';

const breadcrumbItems = [
  { label: 'Meal Planner', href: '/meal-planner' }
];

// Sample saved meals - in a real app, these would come from a database
const savedMeals = [
  {
    id: '1',
    day: 'Monday',
    mealType: 'Breakfast',
    recipeId: 'healthy-oatmeal',
    recipeName: 'Healthy Oatmeal Bowl'
  },
  {
    id: '2',
    day: 'Monday',
    mealType: 'Lunch',
    recipeId: 'quinoa-salad',
    recipeName: 'Mediterranean Quinoa Salad'
  }
];

// Categories for recipe suggestions
const mealPlanningCategories = [
  'quick-meals',
  'meal-prep',
  'healthy',
  'budget-friendly'
];
---

<Layout title="Meal Planner - Jamie Oliver">
  <Navigation />
  
  <main class="container mx-auto px-4 py-8">
    <Breadcrumbs items={breadcrumbItems} />
    
    <div class="max-w-4xl mx-auto">
      <div class="mb-8">
        <h1 class="text-3xl font-bold text-jamie-blue dark:text-white mb-4">Plan Your Week</h1>
        <p class="text-gray-600 dark:text-gray-300">
          Organize your meals for the week ahead. Drag and drop recipes into the planner,
          and we'll automatically generate your shopping list.
        </p>
      </div>

      <MealPlanner savedMeals={savedMeals} />
      
      <div class="mt-12">
        <h2 class="text-2xl font-bold text-jamie-blue dark:text-white mb-6">Recipe Suggestions</h2>
        <RecipeCollections categories={mealPlanningCategories} />
      </div>
    </div>
  </main>
</Layout>

<style>
  /* Print styles for shopping list */
  @media print {
    nav, .recipe-collections {
      display: none;
    }

    #shopping-list-modal {
      position: static;
      background: white;
      padding: 0;
      margin: 0;
    }

    #shopping-list-content {
      display: block !important;
    }

    button {
      display: none;
    }
  }
</style>
